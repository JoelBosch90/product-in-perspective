<!DOCTYPE html>
<html>
<head>
  <title>Place the Box Test</title>
  <script src="/aframe/aframe.js" type="text/javascript"></script>
  <script defer src="//webrtc.github.io/adapter/adapter-latest.js" type="text/javascript" ></script>
  <script defer src="/quagga/quagga.min.js" type="text/javascript"></script>
  <script defer src="/jquery/jquery.js" type="text/javascript"></script>
  <script defer src="/javascript/hit-test.js"></script>
  <script defer type="module" src="/javascript/ar-scene.js"></script>
  <link rel="stylesheet" type="text/css" href="style/ar-scene.css" />
</head>
<body class="scanning">

  <!-- Aframe AR scene -->
  <a-scene webxr="optionalFeatures: hit-test, local-floor, dom-overlay; overlayElement:#overlay;">

    <a-entity ar-hit-test="doHitTest:false" visible="false">
      <a-plane
        rotation="-90 0 0"
        width="0.2"
        height="0.2"
        src="/images/arrow.png"
        material="transparent:true;"
      ></a-plane>
    </a-entity>

    <a-box
      id="box"
      visible="false"
      position="0 0 0"
      rotation="0 0 0"
      width="0.5"
      height="0.5"
      depth="0.5"
      color="pink"
      static-body
    ></a-box>

    <a-camera>
      <a-entity
        id="ar-interface"
        text="align: left; width: 0.1;"
        position="0 0 -0.17;"
        visible="false"
      >
      </a-entity>
    </a-camera>

  </a-scene>

  <!-- Overlay -->
  <div id="overlay" class="container">

    <div id="ar-instructions">
      <h1>Welcome To Place the Box</h1>
      <section class="overlay-content">
        <p id="instructions">Place the box on a flat surface</p>
      </section>
      <div style="display: flex; justify-content: space-between; align-self: stretch;">
        <button id="progress-button">Place box</button>
        <button id="exit-button">Stop AR</button>
      </div>
    </div>

    <div id="inline-instructions">
      <h1>Welcome To Place the Box</h1>
      <section class="overlay-content">
        <p>Select a product by scanning the barcode.</p>
      </section>
      <div id="barcodescanner-view"></div>
      <p id="product-description"></p>
      <button id="enter-button">Select</button>
    </div>

  </div>

</body>
</html>